{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"641f09e150b4b72257a7ded46961f32fed498d00de47c203d67143a9007f2d57","created_at":"2026-03-01T01:42:50Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"User requested a recurring review process for: (1) slash commands and skills (may go stale as Claude Code evolves); (2) collection of plugins; (3) hand-crafted permissions in permissions.json. Motivation: Claude Code process evolves, configurations can become outdated or improvable. Approach: create a periodic audit task (e.g. monthly) using bd defer or a checklist bead. What done looks like: a deferrable audit issue exists that covers commands/skills, plugins list, and permissions.json review. Consider if beads has a recurring/snooze mechanism first (bd defer exists but no repeat).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-audit-recurring","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add recurring review for Claude commands, skills, plugins, and permissions","updated_at":"2026-03-01T01:42:50Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed in cc.nu: exact-match-first resolve_project, new projects subcommand with cross-project session search, 16 tests passing","closed_at":"2026-02-27T20:27:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9161d4b1debbda8271b006439ad7a61cc40c8fad42c1a589af0e477beb3e69f6","created_at":"2026-02-27T18:33:15Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"'cld ls se' in a worktree-heavy project (e.g. flextranet) fails with 'Ambiguous project' error because cc.nu matches the base project path plus all worktree paths. Need to prefer exact match or strip worktree suffixes when resolving project name.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-ccnu-ambiguous-project","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"cc.nu: fix ambiguous project name when worktrees exist","updated_at":"2026-02-27T20:27:43Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed in cc.nu: exact-match-first resolve_project, new projects subcommand with cross-project session search, 16 tests passing","closed_at":"2026-02-27T20:27:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"07cf13d8eb57cc22c1a5f53bad3cf220049cb09bd28d40a49ec3110ecbf2d9d5","created_at":"2026-02-27T13:57:16Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cc-ls currently requires a project context (resolves from cwd or --project flag). Add support for: listing all projects, listing all sessions across all projects, and other cross-project views. Currently only 'plans' is global; all other subcommands are project-scoped.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-ccnu-cross-project","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"cc.nu: support listing all projects and cross-project sessions","updated_at":"2026-02-27T20:27:43Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented -o table|wide|path flag and cc show subcommand","closed_at":"2026-02-27T21:59:51Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"444919079aecac9c50e3612e33632cc4d0c7af91da6f351149f7cdb417641c4c","created_at":"2026-02-27T21:51:58Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Replace --plain and add wide/full output mode. -o table (default): short uuids, basenames. -o wide: full uuids, full paths in table. -o path: one absolute path per line (replaces --plain). Follow kubectl -o convention. Also remove duplicate projects block and thin render function.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-ccnu-output-flag","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add -o/--output flag to cc-ls (table/wide/path)","updated_at":"2026-02-27T21:59:51Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented -o table|wide|path flag and cc show subcommand","closed_at":"2026-02-27T21:59:51Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b8126ce7527cea6bc29c893ae0beb3b570a0dd048f386610a59d659b651eecf7","created_at":"2026-02-27T21:45:48Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld ls me MEMORY.md acts as cat when a selector matches — mixing list and read semantics in one command. A dedicated 'show' subcommand (or 'cat') would be cleaner: cld show me MEMORY prints the file, cld ls me lists the table. Consider also --raw flag for pre-render structured output (full uuid, native types) for Nu pipelines and JSON.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-ccnu-show-subcmd","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"cc.nu: add 'show' subcommand to replace ls-as-cat pattern","updated_at":"2026-02-27T21:59:51Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5a6a891300fce6c1475ab093cd6625bae1945616e6da455b66ccee1832f3d1e7","created_at":"2026-02-27T14:20:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Open question: tradeoffs between --continue (resumes last session, risks context drift) and --resume (pick specific session) vs fresh start with memory files. Hypothesis: fresh start with well-maintained memory may outperform resume in long sessions due to prompt caching and compaction behavior. Research and document a recommendation in tools.md or claude-code.md. Outcome may affect functions.sh default behavior.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-claude-continue-vs-resume","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Evaluate --continue vs --resume tradeoffs for Claude Code sessions","updated_at":"2026-02-27T14:20:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Applied apply_limit to subagents and state in sections table; 2 new tests; 93 total","closed_at":"2026-03-01T01:07:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7b001aa2489d77378037df6657087dffbe87bad5646e93c9cb440887acdf12d2","created_at":"2026-03-01T00:23:10Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Bug: the sections table in cld get all (cld.nu:85-94) applies apply_limit to debug and sessions but NOT to state or subagents. collect_state and collect_subagents return all rows unsorted. cld get st and cld get su both use apply_limit correctly. Fix: apply apply_limit to state and subagents rows in the sections table, consistent with debug. State rows also come out grouped by companion type (file-history block, then session-env block) instead of modified desc — apply_limit will fix the sort. Files: home/dot_config/nushell/modules/cld.nu lines 85-94. Test: cld get all --limit 3 should show max 3 rows for state and subagents sections too.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-all-section-limits","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix: state and subagents in 'cld get all' ignore --limit and have no sort","updated_at":"2026-03-01T01:07:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"categories column added to resource_defs; de/fi/en/ta/to tagged artifacts; state bundle removed from resource_defs and cld.nu; category_members/category_names exported. Pending: rename categories→xdg and artifacts→state (tracked in new task)","closed_at":"2026-03-01T04:09:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"963d070e96ffc54480d330f77d09d8b347da31331fd1d8d0ce6748f9fef4250c","created_at":"2026-03-01T02:49:00Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"This session established: (1) kubectl uses CATEGORIES column in 'api-resources -o wide'; categories group related resources so 'kubectl get all' expands to everything in the 'all' category. (2) The four session-companion types (file-history, session-env, tasks, todos) share a category. (3) 'state' is NOT a first-class resource — it is a category alias (like 'all' in kubectl). Remove 'state' from resource_defs and replace it with a categories mechanism. Add a 'categories' column to resource_defs rows: file-history/session-env/tasks/todos get a shared category name (name TBD — user deferred naming; current placeholder 'session-companion' is unclear, user wants to check CC internals). 'cld get \u003ccategory\u003e' should expand to 'cld get fi,en,ta,to'. 'debug' may or may not belong to the same category — ask user. Files: cld_lib.nu (resource_defs schema, expand_sub to handle category names). Deliverable: resource_defs has categories column, cld resources -o wide shows it, cld get state/st still works via category expansion.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-categories","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add categories column to resource_defs and cld resources","updated_at":"2026-03-01T04:09:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"35f5ad9b8185330ef48b9bb874e7bf659abcedd24ce0f6011fc4ca348c7f2ac3","created_at":"2026-02-28T22:35:30Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Column/key order should be logical, consistent, and human-readable across all resource types and output modes (default, wide, json, yaml). Current state after output-schema refactor: sessions default: [slug, uuid, size, modified] — good; sessions json items: [slug, uuid, path, size, modified] — path between uuid and size feels odd; debug json: [uuid, path, size, modified] — ok; subagents json: [agent, path, size, modified] — ok; teams json: [name, members, sessions, path, size, modified] — sessions before path ok; memory json: [name, path, size, modified] — ok; projects json: [name, sessions, path, size, modified] — ok. Proposed canonical ordering rule: identity-first (slug/uuid/name/agent/type), then relation (sessions/members/project), then location (path), then metrics (size, modified). Wide mode: same order as default but with full values; path appears after uuid/name, before size. json items: same field order as wide. All types should follow this rule. Done when: a single mental model covers all types; field order is the same between json items and wide output.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-column-order","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Ensure consistent, human-readable column order across all output modes","updated_at":"2026-02-28T22:35:30Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"uuid renamed to session in shape_canonical (cld_lib.nu:390); tests pass","closed_at":"2026-03-01T03:17:05Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"29e9d9756ee607b12cd773c236f3d2c8afa608c14392797534621e3638123ab4","created_at":"2026-03-01T01:49:20Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Current cld get fi/en/ta/to shows uuid|size|modified where uuid is the session UUID. This is confusing because the 'uuid' IS the session identifier but there is no label making that clear, and no link back to the session name/slug. Kubectl approach: show the owning resource. Proposal: rename uuid column to 'session' and show the 8-char prefix. Optionally in wide mode show the session slug alongside. Files: cld_lib.nu shape_canonical (file-history|session-env|tasks|todos arm: rename path→session). What done looks like: cld get fi shows session|size|modified where session is the 8-char UUID prefix matching cld get se output.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-companion-session-col","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add session column to file-history/env/tasks/todos output","updated_at":"2026-03-01T03:17:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Added -o path and -o json to cld describe; 3 new tests; 89 total","closed_at":"2026-02-28T23:36:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6fe5f220c5df7fb75a3fa1f53d4663c2cbc01638385ea1357582914c50b1aa35","created_at":"2026-02-28T21:16:19Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld describe currently always prints raw file content with no output mode support. Add -o path (one path per line, consistent with cld get -o path) and -o json ({path, kind, size, modified, content} envelope). Default stays raw content. Note from memory: Gemini's draft was wrong (used expand_sub incorrectly and double-parsed JSONL). Implement from scratch using same envelope pattern as cld get -o json. Files: home/dot_config/nushell/modules/cld.nu (main describe def), home/dot_config/nushell/modules/cld_lib.nu (helpers if needed). Done when: tests pass (cld check describe), -o path emits clean paths, -o json is valid JSON with all fields.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-describe-output","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add -o path and -o json output modes to cld describe","updated_at":"2026-02-28T23:36:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed UUID prefix matching: any all-hex term uses stem prefix only; capped ambiguous error at 5 candidates; 2 new tests; 91 total","closed_at":"2026-03-01T00:02:39Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8c8b54d3a1c49e9cf1be6563a1e464bddac14ba26f042927fcc9efb07e07a5b3","created_at":"2026-02-28T21:17:13Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld describe selector is ambiguous for UUID-like inputs. When input matches ^[0-9a-f-]{8,}, require exact prefix match (no substring match). Show all candidates in error when ambiguous, not just a count. Consider --exact flag for strict matching. Currently in expand_sub or select_row logic in cld_lib.nu. Files: home/dot_config/nushell/modules/cld_lib.nu (select_row, expand_sub). Done when: cld describe se \u003c8-char-uuid-prefix\u003e matches exactly one session; ambiguous prefix shows all candidates; tests pass.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-describe-selector","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Improve cld describe selector robustness for UUID inputs","updated_at":"2026-03-01T00:02:39Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1991ceaca069800d9bb91c2966b8e46b06a5bbf1aa7d93c63d3949281dc762e5","created_at":"2026-03-01T04:51:55Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Several long block comments in cld_lib.nu serve as documentation that is rarely read (e.g. the resource_defs header block at lines 17-28, collector argument notes, session UUID encoding explanation). Nu treats the comment immediately before an 'export def' as a docstring visible in 'help'. Audit goals: (1) identify which comments are attached to exported defs and could become proper Nu docstrings (first-line summary + parameter comments); (2) identify which comments document resource type semantics that belong in the 'description' column of resource_defs, surfaced by 'cld explain'; (3) remove or shorten comments that duplicate what the code plainly shows. Files: cld_lib.nu (block comment lines 17-28, per-collector comments), cld.nu (doc comments on cld get, cld describe, cld resources). Done when: long comment blocks are either converted to Nu docstrings, moved into resource_defs description field for cld explain, or removed if redundant.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-docstring-audit","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Audit long comments: migrate to docstrings and cld explain","updated_at":"2026-03-01T04:51:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"expand_sub now checks resource_defs.short before prefix matching; early expansion in cld get avoids missed short aliases for meta-scope types; 86/86 tests pass","closed_at":"2026-02-28T22:06:44Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"79a81d73d54a08d95ac4845dd7e329ca3c3b2cefa886170268d507f4a0a79a5d","created_at":"2026-02-28T21:23:12Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"expand_sub (cld_lib.nu:814) only checks full resource names for exact match, then prefix match. The 'short' column in resource_defs (se, me, pl, te, su, de, st, pr) is defined but never consulted, so 'pr' does not expand to 'projects'. kubectl resolves 'po'→pods, 'svc'→services via a registered shortnames table — cld must do the same. Fix: in expand_sub, after exact full-name match, check if $sub matches any row's 'short' field (exact match only — no prefix on shorts). Only then fall through to prefix match on full names. Short aliases are unambiguous by definition (each is unique in resource_defs). All downstream callers (cld get, cld describe, multi-type comma split) go through expand_sub so the fix propagates everywhere. Files: home/dot_config/nushell/modules/cld_lib.nu (expand_sub). Done when: cld get pr lists projects; cld get se lists sessions; cld get pl lists plans; cld get p still errors as ambiguous (plans, projects both start with p); 83 tests pass; add test case for 'pr' expansion.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-expand-sub-shorts","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"expand_sub: wire short aliases from resource_defs","updated_at":"2026-02-28T22:06:44Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"cld explain now returns a Nu record; pipeable via get, select, to yaml, etc.; 3 tests added; state-category test fixed (section headers go to stderr)","closed_at":"2026-03-01T05:05:30Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c9cecd1b9b91bc242cb0e1ba6584871274ba01e38a34f6b798c26e37c4d9c543","created_at":"2026-02-28T21:18:54Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Maps to kubectl explain. Shows a structured human-readable description of a resource type with no live data. Output format mirrors kubectl explain: KIND, DESCRIPTION (prose paragraph explaining what the resource is, where it lives, how it is keyed, what it contains, XDG classification), FIELDS (column names and types surfaced by cld get). Description prose should consolidate all verified findings from cld_lib.nu resource_defs: scope, namespaced, dir template meaning, xdg category, and any behavioral notes (e.g. sessions hold conversation history as JSONL, todos have one file per agent per session). Each resource needs a crafted English paragraph -- this is the canonical place to document what each CC internal actually is. Implementation: add a 'description' column to resource_defs (string), implement 'cld explain [resource]' that reads it and formats kubectl-style output. Also expose via 'cld resources -o wide' if description fits. Files: cld_lib.nu (resource_defs new description column + prose per resource), cld.nu (new export def 'cld explain'). Done when: cld explain sessions prints KIND/DESCRIPTION/FIELDS block; all 11 resources have prose descriptions.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-explain","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Basic implementation done: description column in resource_defs, cld explain prints KIND/SHORT/LOCATION/NAMESPACED/DIRECTORY/XDG/DESCRIPTION/FIELDS. User feedback: output format is too literal kubectl copy. Rethink: use Nu-native output (a record or table) that can be piped, filtered, and rendered by Nu itself rather than a fixed print block. The prose description column and FIELDS list are correct and stay; only the output mechanism needs to be Nu-idiomatic. See chezmoi-cld-docstring-audit for related cleanup.","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement cld explain \u003cresource\u003e: type-level documentation","updated_at":"2026-03-01T05:05:30Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4efaa85f7ea83d57f94a8a2bf39a6df2a7929b024924952538b7ad8419418b17","created_at":"2026-03-01T05:52:49Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Audit which flags are missing from which commands for sh-first usability. Current state after 2026-03-01 session:\n\ncld get: has --all --project --limit --label --status --output. Missing: --sort (rows pre-sorted by collector; add if needed for non-sessions types). --label is sessions-only; should it apply to others?\n\ncld top: has --all --project --sort --reverse --output. Gaps: none significant. No --limit (only 11 rows).\n\ncld describe: has --project --output. Missing: --all (describe always targets one file; not applicable). No --limit (single file).\n\ncld resources / cld explain: no project scope. No gaps.\n\nDecisions needed:\n- Should cld get support --sort for all types, not just sessions-by-modified? \n- Should --label filtering apply beyond sessions (e.g. to subagents)?\n- Should cld describe support --all (list all matching files across projects)?\n\nFiles: home/dot_config/nushell/modules/cld.nu (all exported defs). Done when decisions are recorded and any agreed changes implemented.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-flag-audit","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Flag coverage audit: sort/limit/label across commands","updated_at":"2026-03-01T05:52:49Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"audited functions.sh: cld() -o table injection is correct; commented blocks are intentional reference (not stale); claude_teams() --teammate-mode flag status is uncertain, created chezmoi-functions-teammate-mode task to verify","closed_at":"2026-02-28T23:05:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"81f42fe91fc76589826f9604589cfbd97f468d9e0d80a429e22c8ff13038d32a","created_at":"2026-02-28T21:17:54Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"home/dot_claude/functions.sh has stale commented-out blocks that were relevant to cld: CLAUDE_CODE_TASK_LIST_ID, CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD, claude_teams env vars. Review each block: remove if obsolete, enable if still useful, document if kept for reference. Also verify the -o table injection logic is still correct after recent cld refactor. Done when: all stale blocks cleaned up or explicitly documented.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-functions-audit","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Audit functions.sh for stale cld-related env vars and blocks","updated_at":"2026-02-28T23:05:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c1f6671dc48b9bd9bc3029b1f7700c8e035eb0a1bef8e45f55d64b30f367587a","created_at":"2026-03-01T00:23:48Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Current cld get all shows per-section tables with section headers — this IS kubectl-idiomatic (verified). Design work remaining: (1) cld get all does not show total-count header on stderr for the overview path — add it, consistent with single-type render; (2) section rows currently have no truncation hint when --limit cuts them short — add '(N of M)' in section header; (3) evaluate --show-kind behavior: cld -o wide or -o name might use kind/name prefix; (4) decide if a compact count-only summary mode is worth adding as a separate flag (e.g. --summary). Per-section tables stay as-is. Flat merged table is NOT pursued (non-idiomatic). Depends on chezmoi-cld-kubectl-research. Files: cld.nu (get all dispatch, section header print), cld_lib.nu (render). Tests: stderr header shows total; truncated sections show count hint.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-get-all-redesign","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"2026-03-01: per-section tables confirmed kubectl-idiomatic. 'cld top' created as separate task for compact summary (chezmoi-cld-top). The '--summary' flag option in this task is superseded by cld top. Focus this task on truncation hints and total-count header only.","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Redesign cld get all: flat merged table, transparency on truncation, kubectl alignment","updated_at":"2026-03-01T02:53:12Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"updated file header (removed stale 'cld get = projects overview', added cld resources example); updated cld describe subcommand notation to (se)ssions style","closed_at":"2026-02-28T23:05:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"28dfa206da2b8360f91dbfd1a8f3182b26a954a813babf6b5785e74b351f64dc","created_at":"2026-02-28T21:17:47Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Two issues: 1) File header (lines 4-10) still says 'cld get # projects overview' — no longer true, cld get with no subcommand now errors with hint to cld resources. 2) main describe docstring uses 'me(mory) | se(ssions)' notation (type first, alias in parens) — prefer '(se)ssions' style where it fits naturally. Both are comment-only changes, no logic. Files: home/dot_config/nushell/modules/cld.nu (lines 4-10, main describe). Done when: header reflects current behavior; notation is consistent with (se)ssions style.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-header-stale","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix stale comments and notation in cld.nu","updated_at":"2026-02-28T23:05:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"323ff829527d7f385bc5a9b92e4ab6cb4ee1262d0d507686e68c5e592684ce39","created_at":"2026-03-01T01:42:48Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"User flagged potential issue: some help text may be in comments where it should be parameter docstrings. After investigation: Nu module parameter docstrings (lines between param declarations) do appear in --help when loaded as module (verified 2026-03-01). Standalone script mode (nu cld.nu get --help) does not show them. Action items: (1) Verify all parameter descriptions are in docstring position not ignored comments; (2) Update 'main get' at cld.nu:369 to include fi/en/ta/to in its subcommand doc (currently only shows old state alias); (3) Update 'cld describe' at cld.nu:249 to mention file-history/session-env/tasks/todos; (4) Check if standalone invocation mode matters for this project and if so whether to restructure. What done looks like: all user-facing help accurately reflects current resource set.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-help-coherence","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Audit cld help strings and doc comments for coherence","updated_at":"2026-03-01T01:42:48Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"11c72d7d83af910d9d611c64bed258fe81951a1791c12e34fd5bd4f15b64e796","created_at":"2026-02-28T21:26:25Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Currently the resource type list appears in three places: (1) cld get docstring (cld.nu:17-29), (2) main get inline param comment (cld.nu:323), (3) cld describe docstring (cld.nu:245). This violates single-source-of-truth. Also the notation mix is inconsistent: some places use 'sessions(se)', user prefers '(se)ssions'. Nu docstrings are static strings (cannot call resource_defs at parse time), so the best approach is: keep ONE canonical listing in main get param comment (what nu cld.nu get --help shows), remove the duplicate block from cld get docstring, and update cld describe to reference 'cld resources' rather than listing types inline. Nu renders help from: (a) first # comment line = description, (b) inline param comments = param help, (c) flags from signature. Closer to kubectl: kubectl --help shows a one-line description + flags table + examples section. For Nu, the practical equivalent is a good one-line description + inline param comment with type list + --help showing flags. No examples section needed since Nu renders flags natively. Change plan: - cld.nu:14 description line: 'Fetch Claude Code artifacts. Run cld resources to list types.' - cld.nu:17-28 multiline type block: remove (it does not render in --help anyway, only the first # line does) - cld.nu:323 main get param comment: keep as single source for type list, use (se)ssions notation - cld.nu:245 cld describe docstring: simplify to 'Print raw content of an artifact. Run cld resources for types.' Files: home/dot_config/nushell/modules/cld.nu. Done when: nu cld.nu get --help shows clean param description with type list; no type list appears in more than one comment; cld resources remains the canonical interactive reference.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-help-single-source","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Help text: eliminate duplicated type lists, derive from resource_defs","updated_at":"2026-02-28T21:26:25Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Audit complete. Fixed: collect_state type typo 'todo'-\u003e'todos', removed dead SUBCOMMANDS const, removed stale TODO comment. Created chezmoi-cld-render-single-type for stale render comment. No functional bugs besides the typo.","closed_at":"2026-03-01T02:01:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4d2580c5acda32e7794090d3783c42163197246a0d0f4231839b16060d14baea","created_at":"2026-03-01T01:51:58Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Several coherence issues likely remain after the state split and help string updates. This task is a structured research pass to find and document them before implementing fixes. Areas to check: (1) 'state' bundle alias description vs get-all sections: all now shows fi/en/ta/to individually but state alias still appears in resource_defs — does 'cld get all' silently skip state or show it as a duplicate? (2) Column naming: companion resources (fi/en/ta/to) show 'uuid' but it is the session UUID, not an artifact UUID — rename to 'session' (tracked in chezmoi-cld-companion-session-col but worth verifying other types too); (3) scope column: 'global/session' is used for debug and all four companion types but also state bundle — is this still accurate after split? (4) help text: 'main get' docstring at cld.nu:369 has all 4 new types but cld describe still only lists 6 types — are there other places that enumerate types statically? (5) SUBCOMMANDS const includes both 'state' and all four; does expand_sub handle ambiguous prefix 'st' vs 'state' correctly? Deliverable: list of coherence gaps with file:line refs; create fix tasks for each non-trivial one.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-incoherence-audit","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Audit cld for naming, scope, and column incoherence","updated_at":"2026-03-01T02:01:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f7d53f2ea02233d54de8b40028a3506e413accd2aebd4cc8cffe269762e3e39c","created_at":"2026-03-01T01:14:30Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Primary goal of cld: surface Claude Code's internal structure as a navigable CLI, in a way that reflects how Claude Code actually organizes data. Current resource taxonomy is partially inferred from filesystem layout rather than from what the data actually represents. This epic tracks the work needed to make cld a faithful representation of Claude Code internals. Sub-goals: (1) state split: file-history, session-env, tasks, todos each become first-class resources, not bundled under 'state' just because they share a dir; (2) project config resource: CLAUDE.md, settings.json exposed under projects (chezmoi-cld-project-settings); (3) scope taxonomy: correct misleading labels (plans/teams labeled global but are cross-project or process-scoped); (4) terminology alignment: kind vs type vs group, consistent with Claude Code's own concepts; (5) research what other dirs exist under ~/.claude (shell-snapshots, cache, plugins) and whether they should be surfaced. Success: 'cld resources' lists every meaningful artifact type in ~/.claude with accurate scope and no bundling artifacts from different concepts. Blocks nothing directly but provides context for all resource-level tasks.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-internals-epic","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Epic: expose Claude Code internals accurately and completely","updated_at":"2026-03-01T01:14:30Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Verified 2026-03-01: strings(1) on CC binary confirms dir names (file-history, session-env, tasks, todos, shell-snapshots) are bare string literals with no collective TypeScript type/interface/enum grouping them. CC has no internal category name for these dirs. Must coin one; no CC-internal term to defer to.","closed_at":"2026-03-01T03:21:04Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7a8651f4dd6bb7d7f856e5e007740cb5eb1cd492a51e37a4da283bcd12359f42","created_at":"2026-03-01T02:52:00Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Context: this session attempted to find what Claude Code internally calls the file-history, session-env, tasks, todos dirs — to avoid inventing names that diverge from CC's own concepts. Approach taken: strings(1) on the binary at /opt/homebrew/Caskroom/claude-code/2.1.63/claude. Findings so far (Verified 2026-03-01 from minified binary): the directory name literals 'file-history', 'session-env', 'tasks', 'todos', 'debug' appear as-is. The cleanup functions (Uc8, fc8, Fc8) iterate those dirs by mtime. STOPPED before finding internal concept names because user interrupted (risk of confusing CC's internal cleanup with our own cleanup.sh). Resume: find what CC's source calls these dirs collectively (is there a type/category name in the TypeScript? Is there a concept like 'session artifacts' or 'session data'?). Also check: what is 'shell-snapshots' — same pattern? Why is it not in cld? Strategy for next session: use strings with tight patterns (e.g. grep for type annotations, interface names, enum values near the dir name literals). Ask user before deep-diving. Files: none (research only). Done when: category name for fi/en/ta/to is confirmed against CC internals, or confirmed that CC has no concept name and we must invent one.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-internals-research","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Research CC internal names for session-companion dirs before naming categories","updated_at":"2026-03-01T03:21:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"--label warns on stderr for non-sessions types; -o name warns when all ids would be empty; both are warnings not hard errors so output is still usable","closed_at":"2026-03-01T07:17:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"562f6ffae1f54269c4894d957e04e1d972b753ba3ed89f791a09acb369b8ad10","created_at":"2026-03-01T06:34:54Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Some flags and output modes are silently ignored when they have no effect, which is confusing and a footgun.\n\nConcrete cases:\n- `-o name` for types with no name or path column emits empty lines with no error\n- `cld get all -o name` emits nothing meaningful per section if the type has no name field\n- `--label` is silently ignored for non-sessions types and for multi-type/all (documented in comment, but user gets unfiltered results with no warning)\n- Valid-looking unsupported flags on `cld get` produce no error\n\nExpected behaviour: if a flag or output mode has no effect for the given type/combination, emit a clear warning on stderr rather than silently returning empty or wrong output.\n\nApproach:\n- In render -o name branch: if all emitted lines would be 'kind/' (empty id), warn on stderr\n- For --label with non-sessions type or multi-type: emit stderr warning (not hard error; result is still valid, just unfiltered)\n- Audit all flag/output combinations accepted by signature but no-op for certain types\n\nFiles: ~/src/github.com/LEI/cld/cld_lib.nu (render name branch), ~/src/github.com/LEI/cld/cld.nu (label/sort flag dispatch)\n\nDone when: all no-op flag/output combinations surface a stderr warning rather than silent degradation.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-invalid-flag-error","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Error on flags/outputs with no effect","updated_at":"2026-03-01T07:17:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Verified 2026-03-01 from kubernetes.io docs and GitHub issues. Per-section tables are idiomatic; flat merge is not standard; no --limit flag in kubectl; default sort is server order (unspecified); kind is canonical term. Full notes in issue.","closed_at":"2026-03-01T00:50:07Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b4c96472378b45f568ebd68ff7740e21d83b92baf772e9483529d4c60230e0df","created_at":"2026-03-01T00:23:46Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Before implementing cld get all redesign and --sort-by, establish what kubectl does: (1) does kubectl get all have a default limit or show all rows? how is truncation indicated? (2) --limit flag: default value and behavior; (3) --sort-by syntax: .jsonpath or field name, what happens with unknown fields; (4) canonical term for resource type — 'kind' vs 'type' vs 'group'; (5) get all output format: flat merged table with KIND column, or per-type tables? (6) how does kubectl handle heterogeneous columns in merged output? Use WebSearch and context7. Output: decisions doc that other tasks can reference. Blocks: chezmoi-cld-get-all-redesign, chezmoi-cld-sort-flag, chezmoi-cld-terminology.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-kubectl-research","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Verified 2026-03-01 via kubernetes.io docs + GitHub issues.\n\nOUTPUT FORMAT: separate tables per resource type (not flat merged). --show-kind adds kind prefix to NAME column (pod/name, service/name) — NOT a separate KIND column. No flat merge with KIND column is idiomatic kubectl.\n\nLIMIT: no --limit flag. --chunk-size=500 is the pagination chunk (transparent to user). No total count or truncation indicator in output.\n\nSORT: default order is server order (unspecified/arbitrary), NOT alphabetical. --sort-by uses JSONPath (.metadata.name, .metadata.creationTimestamp). Ascending only; no native reverse.\n\nTERMINOLOGY: 'kind' is the object schema term (Pod, Service). Resources = API endpoints. No TYPE/KIND column header by default.\n\nTRUNCATION: no standard indicator. continuation tokens are internal; remainingItemCount unreliable.\n\nIMPLICATIONS FOR CLD:\n- Per-section tables (current) IS idiomatic\n- Flat merged table is NOT idiomatic kubectl; defer or treat as separate non-kubectl mode\n- --limit flag (cld has it) is fine, not a kubectl standard but not wrong\n- Default sort: unspecified in kubectl; cld using modified desc for sessions is a reasonable cld-specific choice\n- Truncation: cld should show total in stderr header (already does for single-type); extend to all path\n- --show-kind equivalent: maybe -o wide adds kind prefix to name (to research)","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Research kubectl conventions: limit, sort, get all layout, kind/type terminology","updated_at":"2026-03-01T00:50:07Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f76e4aee432c03f49a2ae7c8d5b1ea3165a2a2fd5d4a3c69d8eca8a0b6b6a323","created_at":"2026-02-28T21:26:41Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"kubectl -o name emits 'kind/name' per row (e.g. pod/my-pod, service/nginx). cld -o name currently emits just the name/slug. This misaligns with the user's expectation that -o name output can be piped back into cld describe. Two changes needed: (1) -o name: emit 'type/id' where id is the describe-compatible identifier per type (sessions: UUID stem 8 chars; memory/plans: file stem; teams: name field). This aligns with kubectl AND doubles as the -q flag behavior. (2) Reconsider whether -q is still needed if -o name is fixed. The id must be exactly what 'cld describe \u003ctype\u003e \u003cid\u003e' accepts. Implementation: in render (cld_lib.nu:438), the 'name' output branch should build 'type/id' strings instead of bare names. The 'type' prefix comes from the 'sub' parameter already available. Files: home/dot_config/nushell/modules/cld_lib.nu (render name branch). Done when: cld get se -o name outputs lines like 'sessions/abc12345'; cld get se -o name | lines | each { cld describe se ( | split row '/' | last) } works correctly.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-name-output-kubectl","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Align -o name with kubectl kind/name format","updated_at":"2026-02-28T21:26:41Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a2e7e94eb72e844f8d96a69d51ac4ce736ed9003af478465f6e0265dd170cbd2","created_at":"2026-03-01T04:35:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"namespaced is currently a bool, which Nu renders correctly as true/false in tables. However mixing bool and string columns means consumers must remember which columns need type-aware handling. Evaluate: should namespaced be stored as string to be fully uniform with xdg and scope? Or is bool the right type here since it is semantically boolean? Document the decision. No code change needed if bool is kept; update comments if changed. Files: cld_lib.nu. Done when: design decision is recorded in a code comment or beads note.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-namespaced-bool","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"resource_defs: consider namespaced as string 'true'/'false' vs bool","updated_at":"2026-03-01T04:35:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"json+yaml added to cld explain and cld describe; 3 tests added; TODO comments mark render duplication for chezmoi-cld-resources-output-modes refactor","closed_at":"2026-03-01T05:32:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"47e4c25e3c82b0deefb999dd52218a906b2fe6f06acd4f80b194ab8fbed2a131","created_at":"2026-03-01T05:13:47Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Review which output formats (-o json/yaml/wide/raw/table/name/path) are supported by each command: cld get, cld resources, cld describe, cld explain. At minimum json and yaml should work on all commands. Audit the dispatch logic, check what formats each command actually handles vs silently ignores or errors on, and make coverage uniform. Start with cld explain (currently returns a bare Nu record with no -o flag at all). Files: home/dot_config/nushell/modules/cld.nu (cld resources ~l338, cld explain ~l354, cld get output dispatch ~l45). Done when every command accepts -o json and -o yaml and the test matrix in cld_test.nu covers the gap.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-output-coverage","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Audit output format coverage across all cld commands","updated_at":"2026-03-01T05:32:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"split shape_for_sub into shape_canonical+shape_display; json/yaml now use canonical fields (slug/uuid/path/agent, full values, no apiVersion, total_size in envelope); wide shows canonical columns with full datetime; 86/86 tests pass","closed_at":"2026-02-28T22:34:05Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"92942cfb06efae90c7249c24d032b14546ea36a9278c2e0177fd249a555f1cb4","created_at":"2026-02-28T21:29:49Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Comprehensive audit of output inconsistencies. Goal: every mode emits canonical fields; only rendering differs.\n\nDESIGN DECISIONS (settled):\n- json size: int bytes (machine-parseable; kubectl-aligned; human string only for display modes)\n- json items: include BOTH path (full) AND shaped identity field (uuid/name/agent) — most complete\n- wide: kubectl-style — same columns as default PLUS additional columns (full uuid, full datetime, raw path); not just truncation removal\n- default: reconsider showing path even in default output (user request); may need format rework\n\nPER-TYPE INCONSISTENCIES FOUND:\n\nsessions\n- default: slug, uuid(8), size(human), modified(relative)\n- wide: only raw path (loses slug, uuid, all identity)\n- json items: path(full), size(int), modified(ISO+tz), type, name — no slug, no uuid field\n- fix: json should have path + uuid(full) + slug + size(int) + modified(ISO); wide adds full datetime column\n\nmemory\n- default: name, size(human), modified(relative)\n- wide: only raw path (loses name)\n- json items: path(full), type, name, size(int), modified(ISO+tz) — acceptable but 'type' redundant; path useful\n- fix: wide should show name + path + size(full) + modified(full); json drop 'type' from items\n\ndebug\n- default: uuid(8), size(human), modified(relative)\n- wide: path, size — loses short uuid identity; just raw path\n- json items: path(full), size(int), modified(ISO+tz), type — no uuid field\n- fix: json should have path + uuid(full) + size(int) + modified(ISO); wide add uuid column\n\nsubagents\n- default: agent, size(human), modified(relative) — agent is path stem (not uuid)\n- wide: only raw path (loses agent)\n- json items: path(full), type, size(int), modified(ISO+tz) — no agent field at all\n- fix: json should have path + agent + size(int) + modified(ISO); wide add agent column\n\nstate\n- default: type, uuid(8), size(human), modified(relative) — type IS meaningful here\n- json items: path(full), type, size(int), modified(ISO+tz) — no uuid field\n- fix: json should have path + uuid(full) + type + size(int) + modified(ISO)\n\nteams\n- default: name, members, size(human), modified(relative)\n- wide: path, name, members, sessions, size, modified — path + name redundant; sessions shown only in wide\n- json items: path(full), type, name, members, sessions(0), size(int), modified(ISO+tz) — type redundant; sessions=0 unhelpful\n- fix: json drop 'type'; sessions only in items when \u003e 0; wide: name + members + sessions + path + size + modified\n\nprojects\n- default: name, sessions, size(human), modified(relative)\n- wide: path, name, sessions, size, modified — path + name is redundant (path IS encoded name)\n- json items: path(full), sessions(count), size(int), modified(ISO+tz) — NO name field; path not decoded\n- fix: json should have path + name(decoded) + sessions + size(int) + modified(ISO)\n\nCROSS-CUTTING\n- wide mode: all types lose display identity columns; fix is per-type wide arm in shape_for_sub\n- json/yaml envelope: drop apiVersion; add total_size(human string) for context\n- json items: 'type' column is redundant (kind in envelope tells you the type) — drop from items unless meaningful (state)\n- All json items: add identity field (uuid/name/agent) alongside path\n\nIMPLEMENTATION\n(a) split shape_for_sub into shape_canonical (always, selects/renames to display field names) + shape_display (truncation for default/table)\n(b) json/yaml: use shape_canonical rows — get display field names with full values\n(c) wide: use shape_canonical + add path and full-value columns\n(d) raw: keep as-is (absolute paths, int bytes, ISO — unchanged)\n(e) resource_envelope: drop apiVersion, add total_size\n\nDone when: all modes have consistent field names; json items have path + identity field; envelope has no apiVersion; 86+ tests pass.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-output-schema","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Settled design (from user + kubectl alignment):\n- json size: int bytes (kubectl-aligned; kubectl returns raw integer quantities in json)\n- json items: path(full) + identity field (uuid/name/agent) — most complete, useful for scripting\n- wide: kubectl-style — default columns PLUS additional columns (full uuid 36-char, full datetime YYYY-MM-DD HH:MM, raw path); not just removing truncation\n- default: user wants path visible even in default — may mean adding path column or short path suffix; needs format experiment\n- apiVersion: drop from envelope; kubectl's apiVersion is on the resource list object itself, not cld's concern\n- total_size: add to envelope as human string for context","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Unify output schema across all modes (get, json, yaml, wide, table)","updated_at":"2026-02-28T22:34:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"52bfccc0b7a4c7247894f995721019982c89ed31a4e5c60ba6c3e738bce1df19","created_at":"2026-03-01T05:53:39Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld has grown into a standalone tool (cld.nu ~480 lines, cld_lib.nu ~1000 lines, cld_test.nu ~700 lines, 167 tests, 7 commands). It no longer belongs in the chezmoi dotfiles repo.\n\nMotivation: the tool is self-contained, has a test suite, its own beads issue backlog, and growing complexity. Keeping it in chezmoi creates noise in dotfile commits and makes it harder to share or publish.\n\nSteps:\n- Create a new git repo (e.g. ~/src/cld or github.com/gvx/cld)\n- Move home/dot_config/nushell/modules/cld.nu, cld_lib.nu, cld_test.nu into it\n- Update chezmoi to reference the installed location (e.g. symlink from ~/.config/nushell/modules/ to the repo checkout, or install via mise/cargo/brew)\n- Migrate open beads issues: create a local .beads/ in the new repo with prefix 'cld-', move relevant chezmoi-cld-* issues across\n- Update MEMORY.md and cld.md to reflect new home\n- Update Nu config (config.nu or env.nu) to use path from new location\n\nDone when: cld.nu is no longer in this chezmoi repo, tests still pass, and the module loads correctly in a new shell.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-own-repo","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Extract cld.nu into its own repository","updated_at":"2026-03-01T05:53:39Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a684f3bc966465e9bd83493df80ecbe638cbcc1281756fc6381f4c9c08ef888a","created_at":"2026-03-01T00:24:50Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Projects are first-class resources. Explore collecting per-project Claude Code config: CLAUDE.md files (can be at project root, subdirs — any depth), CLAUDE.local.md, .claude/settings.json, .claude/settings.local.json. Start light: target settings.json/settings.local.json first (well-known paths, easier to scope). Questions to answer: (1) what is the schema of .claude/settings.json — keys, types, meaningful fields to surface? (2) CLAUDE.md discovery: scan recursively from project root? what is the cwd for a Claude Code project session — is it always the project root? (3) should this be a new subcommand 'cld get config' or part of 'cld get projects'? (4) how does this interact with global ~/.claude/settings.json vs project-local? Research: read actual settings.json files on this machine, check Claude Code docs if available. Output: design sketch for implementation. Low priority until project resource design is settled.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-project-settings","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Research: collect .claude project config (CLAUDE.md, settings.json) as a resource","updated_at":"2026-03-01T00:24:50Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"712f2f30d5cb447067bea387b7ccd0743a61d940c38a6ebb8f1ea3025b4fdd5d","created_at":"2026-02-28T21:19:38Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Originally -q was proposed as a shorthand for describe-compatible identity output. If chezmoi-cld-name-output-kubectl lands (making -o name emit 'sessions/abc12345' style), -q becomes redundant (-o name already does it). Evaluate after that issue is done: if -o name fully satisfies the pipe use case (cld get se -o name | ...), close this issue as won't-do. If there is still a need for a terse flag (e.g. -q without the type prefix, just the raw id), implement as a thin wrapper. Decision point: after chezmoi-cld-name-output-kubectl is done. Do not implement -q until that is decided.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-q-flag","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Evaluate -q flag: may be superseded by -o name kubectl alignment","updated_at":"2026-02-28T21:26:56Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"noted during session: let sub =  no-op rename in cld.nu (minor); larger dispatch refactor deferred; no blocking issues found","closed_at":"2026-02-28T23:06:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c7a133f83270c5d4b0b98735ba78dcf343def485c27d4a0d410cf71a59726f27","created_at":"2026-02-28T22:07:08Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Track refactor opportunities noticed during other fixes. Current candidates: (1) cld.nu:133 'let sub = $subcommand' is a no-op rename introduced when early expand_sub was added; could just use $subcommand directly throughout — minor. (2) The large if/match dispatch in cld get could be split into per-type handler functions to reduce line count. (3) select_row is called in multiple branches with identical patterns; could be extracted. (4) describe uses 'su' string in subcommand docs but expand_sub now handles it — verify the two paths are consistent. Not blocking anything; surface when a large refactor is planned or when touching those areas.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-refactor-audit","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Refactor audit: opportunistic cleanup in cld.nu / cld_lib.nu","updated_at":"2026-02-28T23:06:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"73e31c192e027badab86a0e363dd67c5ff4239906d305d8abad7f4c68a6312d0","created_at":"2026-03-01T02:00:23Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"In cld_lib.nu render() around line 499, the comment says 'state is exception' for the single_type list, but after the state split the four new types (file-history, session-env, tasks, todos) also bypass this path (they have no type column when collected individually). The comment should be updated to reflect the current design: single_type = types that always have a type column from the collector and where that column is redundant. fi/en/ta/to collectors return rows without a type column, so they never reach the reject path. The code is correct; only the comment is stale. Fix: reword the comment to match reality. Files: home/dot_config/nushell/modules/cld_lib.nu ~line 499.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-render-single-type","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"render: single_type list comment is outdated after state split","updated_at":"2026-03-01T02:00:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0fce5da0a9a4916d867e2f0edc3e93d9a862109f8f4bf12b912c09b3b5e8f1fd","created_at":"2026-03-01T07:09:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"The cld project has grown its own identity but its task backlog and design notes still live in chezmoi beads and MEMORY.md (project memory under ~/.claude/projects/.../memory/cld.md). A fresh session working on the cld repo has no access to those.\n\nGoals:\n- Create a TODO.md in ~/src/github.com/LEI/cld/ listing open tasks (drawn from bd list --status=open filtered for cld tasks); self-contained, no beads dependency\n- Audit README.md against current state: verify all subcommands, flags, output modes, and examples are accurate\n- Migrate stable design decisions from cld.md memory into inline code comments or a DESIGN.md if warranted\n- Consider closing remaining chezmoi-cld-* beads tasks once their content is captured in-repo\n\nOpen beads tasks to review (fetch live: bd list --status=open | grep cld):\n  P2: chezmoi-cld-invalid-flag-error, chezmoi-cld-resource-introspection, chezmoi-cld-internals-epic (blocked)\n  P3: chezmoi-cld-help-coherence, chezmoi-cld-resource-defs-refactor, chezmoi-cld-scope-redundant, chezmoi-cld-scope-taxonomy (blocked), chezmoi-cld-sort-flag, chezmoi-cld-test-format\n  P4: chezmoi-cld-namespaced-bool, chezmoi-cld-render-single-type, chezmoi-cld-q-flag, chezmoi-cld-sessions-grep, chezmoi-cld-sessions-since\n\nDead code to remove (confirmed unused):\n  - collect_state in cld_lib.nu (unreachable since fi/en/ta/to became first-class)\n  - session_name helper in cld_lib.nu (unused since collect_plan_sessions was updated Mar 2026)\n\nDone when: a fresh session can open ~/src/github.com/LEI/cld/ and find all context it needs without reading chezmoi beads or MEMORY.md.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-repo-handoff","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Handoff cld memory and tasks into the repo","updated_at":"2026-03-01T07:09:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"269f3606be5b1f09454971b81fe8df346b60587be101f76589a7bff01dc1cf52","created_at":"2026-03-01T04:35:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"resource_defs is currently a function that rebuilds a table on every call, including calling claude_dir each time. The table literal with 7 columns is hard to extend safely. Refactor options: (1) split into a static const for the schema/metadata columns (name, short, scope, namespaced, xdg) and a separate function for the dir/collector columns that require runtime values; (2) use a list of records instead of a table literal to avoid column-count mismatches silently. Goal: make it impossible to add a column to the header without adding it to every row (Nu table literals do not enforce this). Files: cld_lib.nu (resource_defs, resource_names, category_members, category_names). Done when: a missing column value causes a parse or runtime error rather than a silent null.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-resource-defs-refactor","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"resource_defs: extract to a const or structured record","updated_at":"2026-03-01T04:35:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"xdg stored as string in resource_defs; category_members/names updated; update xdg workaround removed from cld resources; list\u003cstring\u003e confirmed","closed_at":"2026-03-01T04:35:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"28d45d4b13b4b8988ba5151c575049f5b065852bb7ca60291208461a668385b9","created_at":"2026-03-01T04:33:02Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"resource_defs currently stores xdg as list\u003cstring\u003e (e.g. ['state']) which renders as '[list 1 item]' in Nu tables without explicit stringification. Fix: store xdg as a plain comma-joined string at the source ('state' or ''). Update category_members and category_names to parse the string. Remove the update xdg workaround from cld resources. Update cld_test.nu namespaced test which currently uses bool semantics. Files: cld_lib.nu (resource_defs rows, category_members, category_names), cld.nu (cld resources - remove update xdg block), cld_test.nu (namespaced where clause). Done when: resource_defs | get xdg | describe returns list\u003cstring\u003e; cld resources default output shows state/empty without any update transform.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-resource-defs-types","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"resource_defs: store xdg as string, not list","updated_at":"2026-03-01T04:35:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"cld describe now supports fi/en/ta/to; directory types list files inside on no-selector; with selector opens most-recent file; describe ta \u003cuuid-prefix\u003e shows task JSONL content","closed_at":"2026-03-01T07:17:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b5b071c1909a5c0906dcc1f0cd3f209e0ee4c70d62d7c85865961b35c7445888","created_at":"2026-03-01T06:48:53Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Some resources produce near-empty or opaque output because their collectors only surface the directory/file path without any inner content.\n\nKnown cases (after checking cld get \u003ctype\u003e):\n- tasks: directory per session, each containing JSONL task lifecycle records. `cld get ta` shows session/size/modified but no task count or titles. `cld describe ta` is not supported (no file to open, it is a directory). Should at minimum show a task count per session directory; describe could cat the JSONL.\n- todos: per-session JSON files named \u003csession-uuid\u003e-agent-\u003cuuid\u003e.json. `cld get to` shows session/agent/size/modified. Content is a JSON array of todo items. describe could open the file and show it. Count of todos per file would be informative.\n- file-history, session-env: directories, no content surfaced. Similar gap.\n- subagents: shows agent/path but the directory may contain a nested JSONL. describe support?\n\nGoal: for each resource type, ensure:\n1. `cld get \u003ctype\u003e` shows at least one meaningful count or label beyond size/modified\n2. `cld describe \u003ctype\u003e \u003csel\u003e` works and opens the most useful file (or lists files in the directory)\n3. Document gaps clearly in resource_defs description field\n\nStart by running `cld get ta`, `cld get to`, `cld describe ta \u003csel\u003e` to confirm current state, then implement the most impactful ones first.\n\nFiles: ~/src/github.com/LEI/cld/cld_lib.nu (collectors, shape_canonical for tasks/todos), ~/src/github.com/LEI/cld/cld.nu (describe dispatch).\n\nDone when: tasks and todos show meaningful counts; describe works for at least tasks and todos.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-resource-introspection","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Audit resource collector depth: tasks/todos/state produce no meaningful output","updated_at":"2026-03-01T07:17:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented: cld resources command, resource_defs table, claude_dir() env-var-driven config dir, CLAUDE_CONFIG_DIR override, removed hardcoded ~/.claude","closed_at":"2026-02-28T21:01:53Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f51250b7f59307f66f4b3f4ea5fb63210fafa2ea9b3e92153c9cf1190c203b09","created_at":"2026-02-28T20:48:00Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Introduce cld resources as the resource-listing entry point (replaces cld get no-subcommand overview). Extract a declarative RESOURCE_DEFS table {name, scope, dir_fn, collect_fn, shape_fn} in cld_lib.nu so adding a new Claude Code artifact type only requires adding one row. cld get with no subcommand should error with a hint pointing to cld resources. cld.nu stays thin; all implementation details stay in cld_lib.nu. cld resources lists resource types with scope and path columns.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-resources","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add cld resources command with declarative resource definitions","updated_at":"2026-02-28T21:01:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"98936da7932da2f338e524b88b1a56c32fc343e6f4cc59c90a1b1601192362f4","created_at":"2026-03-01T04:35:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld resources and cld get share OUTPUT_MODES but handle them differently. cld resources has its own if-chain for json/yaml/name/raw/table/wide. cld get uses the render function. If a new output mode is added, both need updating separately. Refactor: either route cld resources through render, or extract the output dispatch logic into a shared function. Files: cld.nu (cld resources, render). Done when: adding a new output mode only requires one change.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-resources-output-modes","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"cld resources: output modes are inconsistent with cld get","updated_at":"2026-03-01T04:35:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"global/session data rows already fixed; indexed-by column deferred per user decision (natural first column)","closed_at":"2026-03-01T04:14:38Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1a96e5ce758264748b06361a4784dcd17d0044e90f7670a91c8d3d08ca386fac","created_at":"2026-03-01T02:51:25Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Current resource_defs has scope='global/session' for debug, file-history, session-env, tasks, todos, state. The slash is ambiguous in a filesystem CLI. This session proposed splitting into two orthogonal facts: (1) 'scope': where the root dir lives — 'project' (under projects/\u003cproj\u003e/) or 'global' (directly under ~/.claude/). (2) 'indexed-by' or similar: how individual items are keyed — 'session' (UUID-keyed directories), 'name', or 'none'. These two columns replace the single 'global/session' compound. The split also reveals that 'plans' and 'subagents' scoping is misleading (tracked separately in chezmoi-cld-scope-taxonomy). Proposed column names are tentative — verify against CC internals before settling. Files: cld_lib.nu (resource_defs), cld.nu (any logic that reads scope value). Done when: no slash in scope values; cld resources shows clean scope column; cld get all sections logic still works.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-scope-fix-slash","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix scope column: replace 'global/session' compound value, no slash","updated_at":"2026-03-01T04:14:38Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4eb17208a06ab8e4d742d2198a462ad9ba6d17bb8d720c3ad46ce3c6c324d494","created_at":"2026-03-01T04:36:51Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"The scope column (project/global) is derivable from the dir template: presence of {proj} implies project scope. No logic in cld_lib.nu or cld.nu reads resource_defs.scope to make decisions — it is display-only. Options: (1) remove and derive when needed via dir contains '{proj}'; (2) keep as documentation column with a comment noting it is redundant. Also: the sections table in cld get all (cld.nu:92) has its own scope field built inline — these are separate and unrelated. Files: cld_lib.nu (resource_defs), cld_test.nu (scope test), cld.nu (doc comment). Done when: decision recorded and implemented.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-scope-redundant","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"resource_defs: evaluate dropping scope column (redundant with dir)","updated_at":"2026-03-01T04:36:51Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"98086af81a3a09ad6e6b649021354b148982454a772cbbfe777f7ac95ce46e51","created_at":"2026-02-28T23:09:52Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"The current resource_defs scope column uses: project (sessions, memory, subagents), global (plans, teams), global/session (debug, state). User feedback: plans and subagents are misleadingly scoped. Plans are stored globally (not per-project dir) but are LINKED to projects via session slugs — they are cross-project artifacts, not unscoped globals. Subagents are stored per-project but scoped to a session, not the project. Proposed clearer taxonomy: sessions=project-scoped, memory=project-scoped, subagents=session-scoped (stored under project/uuid/subagents/), plans=cross-project (stored globally, linked by slug), teams=process-scoped (global dir, linked by teamName), debug=session-scoped (global dir, keyed by uuid), state=session-scoped (global dir, keyed by uuid). Decision: update scope column values and cld resources display; update docs. Do not change storage paths. Done when: scope column values are accurate and non-misleading; memory updated.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-scope-taxonomy","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Challenge check: subagents scope is already 'project' in resource_defs (correct — they live under project/uuid/subagents/). The misleading labels are plans='global' and teams='global'. Plans are better described as 'cross-project' (stored globally, linked by slug). Teams are 'process-scoped' (global dir, keyed by teamName from session first line). Changing scope values affects only cld resources display output — no logic depends on the exact string value. This is a terminology-only fix. Aligns with user-facing terms rule: never leak internal storage concepts as user concepts.","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Revise scope taxonomy: plans and subagents are not truly 'global'","updated_at":"2026-02-28T23:11:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f73ff36621cfae2c5d3dcba487a9a7a1a938c35cfd4b5a6c7cef05e2e8b63ce0","created_at":"2026-02-28T21:18:32Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Filter sessions by content match inside JSONL. Implementation: use rg -l $grep ...$files where $files is built via ls first (not glob expansion in rg args). rg -l stops after first hit per file, so O(sessions) not O(sessions × lines). Combine with existing selector narrowing before the slug map scan. Note: Gemini's draft used glob expansion which is wrong — build file list explicitly. Files: home/dot_config/nushell/modules/cld_lib.nu (collect_sessions), home/dot_config/nushell/modules/cld.nu (flag def). Done when: cld get sessions --grep 'pattern' returns only sessions containing that pattern.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-sessions-grep","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add --grep flag to cld get sessions to filter by content match","updated_at":"2026-02-28T21:18:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0ddfdab6a013d4ed58c04ff0f4481d84f12b804055dd937ccea4a09d704ece56","created_at":"2026-02-28T21:18:39Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Filter sessions by modified age. Nu optional param syntax: --since?: duration or default to 0ns. Duration arithmetic: (date now) - $row.modified \u003c $since. Apply before slug mapping to avoid unnecessary work. Note: Gemini draft used bare 'modified' inside where — needs $in.modified. Files: home/dot_config/nushell/modules/cld_lib.nu (collect_sessions, apply_limit or new filter step), home/dot_config/nushell/modules/cld.nu (flag def). Done when: cld get sessions --since 7day returns sessions from last 7 days.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-sessions-since","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add --since duration flag to cld get sessions","updated_at":"2026-02-28T21:18:39Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"205a222ffbe23cc1136004367fa88fd8657192c126244cd7a4dae55d2326a23b","created_at":"2026-03-01T00:23:15Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Add --sort-by flag to cld get, all resources. kubectl uses JSONPath syntax (--sort-by=.metadata.name); cld can use simpler field names (modified, name, size, slug, uuid) since rows are local structs not API objects. Default sort per resource: sessions=modified desc (recency), memory=name asc (alphabetical — stable names aid lookup), debug=modified desc, subagents=modified desc, state=modified desc, plans=modified desc, teams=name asc, projects=name asc. All these are cld-specific choices — kubectl default is unspecified/server order. Flag should accept field name and optional direction (:asc/:desc or separate --desc flag). Depends on chezmoi-cld-kubectl-research (done). Files: cld.nu (flag def), cld_lib.nu (apply_limit — split sort from limit). Low priority.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-sort-flag","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add --sort-by flag to cld get (kubectl-style, all resources)","updated_at":"2026-03-01T00:45:06Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"superseded by chezmoi-cld-state-split-design which was completed Mar 2026; all four resources now first-class","closed_at":"2026-03-01T01:51:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a05705f560f46aeea6f610e652a9e4a079a6bf62927d5e82a020f35dcb934eaa","created_at":"2026-02-28T21:19:47Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld get state mixes file-history, session-env, tasks, and todos rows together. Expose them as separate subcommands for clarity. Each would be a new row in resource_defs with its own collector. The existing 'state' subcommand could remain as the merged view or be deprecated. First step: audit which files exist under ~/.claude/ for each type and what their structure looks like. Files: home/dot_config/nushell/modules/cld_lib.nu (new collectors), home/dot_config/nushell/modules/cld.nu (resource_defs). Done when: cld get file-history, cld get session-env, cld get tasks each return their respective type only.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-state-split","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Split state subcommand into file-history, session-env, tasks, todos","updated_at":"2026-03-01T01:51:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All design questions resolved and implemented (Mar 2026): aliases fi/en/ta/to, state bundle kept as st, four separate collectors, type column dropped for single-type resources.","closed_at":"2026-03-01T02:44:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"587358d4223b6c69a8a0d6fd8531805aca683acd3943560cf5fa147e5a2f1d1d","created_at":"2026-03-01T01:14:32Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"'cld get state' currently bundles four unrelated companion types: file-history (file snapshots per session), session-env (env snapshots per session), tasks (task dirs per session), todos (agent todo JSON files). They were grouped because they share session-UUID-keyed layout under ~/.claude, but that is an implementation detail, not a conceptual grouping. Design decision (per user, 2026-03-01): make each a primary resource. Questions to answer at session start (deferred post-compaction): (1) short aliases for each: fh? se conflicts with sessions — ev? ta? td?; (2) should 'state' alias remain pointing to all four, or be removed?; (3) does collect_state split into four collectors or keep one with a type filter?; (4) 'type' column in state becomes the KIND of the new resource — drop it for single-type resources; (5) scope: all four are global/session-keyed, same as debug. Files to change: cld_lib.nu (resource_defs, collect_state → split), cld.nu (match dispatch arms, sections table). Depends on chezmoi-cld-internals-epic for framing. Blocks chezmoi-cld-todos-subcommand (which was doing todos only; generalize to full split).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-state-split-design","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Design: split state bundle into first-class resources (file-history, session-env, tasks, todos)","updated_at":"2026-03-01T02:44:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c47003bba1c84b34566b7ff39f42547d0858d6986a75d0ed729b7dc55fca3d85","created_at":"2026-03-01T00:24:04Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Current cld uses 'type' column in state output, 'kind' in json envelopes, 'sub' as internal variable, no TYPE column in get all. kubectl uses 'kind' (capitalized) for resource types, 'GROUP' for API groups. Need to: (1) decide canonical term for cld (kind matches kubectl); (2) rename 'type' column in state output to something consistent; (3) ensure json envelope uses 'kind' consistently (already does); (4) code: rename internal 'sub' variable if kind is adopted; (5) update resource_defs scope values if taxonomy is revised (chezmoi-cld-scope-taxonomy). Depends on chezmoi-cld-kubectl-research. Low priority until research done.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-terminology","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Standardize terminology: kind/type/group across all output and code","updated_at":"2026-03-01T00:24:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a9625700bae39e92d2320d4cb1df14d9cabfb3be2e4b150ac467822bc5dd084c","created_at":"2026-03-01T00:02:45Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Current cld_test.nu uses TAP output with inline closures. Before any large refactor of cld.nu/cld_lib.nu, evaluate test format options: (1) keep Nu TAP, (2) switch to nutest (https://github.com/vyadh/nutest), (3) other. Research: does nutest have better assertion messages, parallelism, filtering? Does the closure-array style need reworking? Goal: agree on pattern so refactor tests are idiomatic. Blocks: any big structural refactor of cld files. Done when: format decision recorded and existing tests migrated or confirmed as staying.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-test-format","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Improve test format: research test language options before big refactor","updated_at":"2026-03-01T00:02:45Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d7884d08f4f25fce628d3f6f7fdbf8e0e092033242ab61835209d2bdc7eae8f9","created_at":"2026-02-28T23:09:52Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Internally, sessions have two distinct fields: 'customTitle' (user-set session name, from the session jsonl first line) and 'slug' (auto-generated from content, used as plan link key). Current cld get se shows 'slug' column which conflates these. Wide and json should surface both when present: 'title' (from customTitle) and 'slug' (auto-generated). The 'name' field in the collector row is currently set to customTitle if present, else slug — this merges them. Fix: collect both fields separately in collect_sessions; shape_canonical for sessions should emit {slug, title, uuid, path, size, modified} where title may be empty. Default display: show whichever is non-empty as primary identity; wide: show both. This requires collect_sessions to extract customTitle separately from the slug/name resolution. Files: cld_lib.nu (collect_sessions, session_title_map, shape_canonical sessions arm). Done when: cld get se -o wide shows separate title and slug columns; cld get se -o json items have both fields.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-title-vs-slug","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Distinguish customTitle from slug in wide/json output; use exact internal field names","updated_at":"2026-02-28T23:09:52Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Superseded by state split (Mar 2026): todos is now a first-class resource with alias 'to', separate collector. Nothing left to do.","closed_at":"2026-03-01T02:44:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0730bc8ebf7e221610ac09d1d858edbe3c57ae7d9ab52c975d3d6afa80e5ad5e","created_at":"2026-02-28T21:18:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"collect_state mixes todos with file-history/session-env/tasks. A dedicated 'todos' subcommand would filter to type==todo rows only, giving a cleaner view. Verify cld get state already surfaces them and document which files are where (~/.claude/todos/ or ~/.claude/tasks/). Dogfood: the native Claude session task list (TaskCreate/TaskList) lives somewhere in ~/.claude — use cld to surface it. Add as new row in resource_defs (name='todos', short='td'), add collector. Files: home/dot_config/nushell/modules/cld_lib.nu (new collector), home/dot_config/nushell/modules/cld.nu (resource_defs). Done when: cld get todos returns only todo-type rows; cld resources shows todos entry.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-todos-subcommand","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add cld get todos as dedicated subcommand filtering state to type==todo","updated_at":"2026-03-01T02:44:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"cld top implemented: count+size+newest per resource type, --all flag, -o json/yaml, Nu-native table. 163 tests passing including yaml in generated matrix, projects in matrix, get all -o json/yaml, resources -o json/yaml, and 5 top-specific tests.","closed_at":"2026-03-01T05:48:04Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ccaf332dbc0d432999ce2e5aa4166570c6f95625642fe80dd5a305461bcae027","created_at":"2026-03-01T02:51:38Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"This session confirmed: kubectl has no summary/stats command. kubectl top is CPU/memory metrics. kubectl cluster-info shows endpoints. There is no 'count per type' built-in. A 'cld top' command is cld-specific. Modeled loosely on 'df' (disk usage per mount) and 'kubectl top' (resource usage at a glance). Output: one row per resource type, columns: name | count | size | newest. Filters by scope or category with --categories flag. Fast: reuses existing collectors without returning all rows (just count+sum). Should show project context in header (like render). Name options considered: 'cld summary', 'cld stats', 'cld df', 'cld top'. User deferred naming — 'top' is closest kubectl analog. Confirm with user at implementation time. Files: cld.nu (new main command), cld_lib.nu (count-only collector variants or reuse apply_limit with length). Done when: 'cld top' shows per-type count+size+newest in one table; works as replacement for the old 'short/summary' view that was removed from cld get all.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-top","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add 'cld top' command: per-resource count and size summary","updated_at":"2026-03-01T05:48:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"render now applies shape_canonical only for wide (no shape_display); uuid is full 36-char in wide output; 86 tests pass","closed_at":"2026-02-28T23:10:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6e104a1167576a0feece5bd58d6887cdf87ae1afed1e977e6ef5de521096ec39","created_at":"2026-02-28T23:09:51Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"cld get se -o wide currently shows 8-char uuid (same as default) because render applies shape_display for both default and wide. Wide should use shape_canonical only: no uuid truncation, no path dropping. Fix: in render, apply shape_display only when output == '' or output == 'table'. For wide: use shape_canonical output directly (path visible, full uuid). This is a one-line fix in render around the 'shaped =' line. Files: home/dot_config/nushell/modules/cld_lib.nu (render function). Done when: cld get se -o wide shows full 36-char uuid; path column visible for sessions; 86 tests pass.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-wide-canonical","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Wide mode: use shape_canonical only, no display truncation; full uuid 36-char","updated_at":"2026-02-28T23:10:43Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0c9afa62e655e2cce1ea7fdd7b99daf2b553900343764c4cbe57e11b4c1a50c2","created_at":"2026-03-01T04:36:52Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Currently only de/fi/en/ta/to have xdg='state'. Remaining resources are unclassified. Proposed full mapping (needs user confirmation): sessions=state (app-written transcripts), memory=data (user-authored), subagents=state (app-written), plans=data (user-authored), teams=state (app coordination), projects=cache (derived index). Contested: sessions could be 'cache' (logs); memory could be 'state'. Apply once mapping is agreed. Files: cld_lib.nu (resource_defs xdg column). Done when: no resource has empty xdg; all values match agreed XDG taxonomy.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-xdg-full-classification","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Complete XDG classification for all resources","updated_at":"2026-03-01T04:36:52Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-03-01T04:30:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2e7c75560db9488ae13bbb1d6c0c04e6bec2136ebcaaad61bc1c9faa0b83736f","created_at":"2026-03-01T04:09:44Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"The categories column in resource_defs was added this session with value 'artifacts' for de/fi/en/ta/to. Decision: rename the column to 'xdg' and the value to 'state' (XDG_STATE_HOME analogy). Also: assign short alias 'st' to the 'state' category; extend xdg values to other resources (data: sessions/memory/plans; cache: shell-snapshots). Files: cld_lib.nu (resource_defs column name, category value, resource_names prepend, category_members/category_names functions), cld.nu (any hardcoded references to 'categories' or 'artifacts'), cld_test.nu (update test for 'get artifacts' → 'get state', update output_mode_cases entry). No alias collision: st/da/ca all free. Done when: cld get state expands to de+fi+en+ta+to; cld resources -o wide shows xdg column; tests pass.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-cld-xdg-rename","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Rename categories→xdg column and artifacts→state value in resource_defs","updated_at":"2026-03-01T04:30:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b5cc6bb9e47486b10a37847663e44878c1f0eebbff9be6d06cfc3edb48ddad58","created_at":"2026-02-28T23:05:05Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"claude_teams() in home/dot_claude/functions.sh calls 'claude_tmux --teammate-mode=$TEAMMATE_MODE'. The flag '--teammate-mode' does not appear in 'claude --help' output (as of 2026-03-01). It may be experimental/undocumented or recently changed. Check: (1) whether --teammate-mode is still a valid flag (check Claude Code changelog or settings.json); (2) whether TEAMMATE_MODE env var or a settings.json key replaces it; (3) whether claude_teams() still works or should be updated. If the flag moved to settings.json (e.g. 'env.TEAMMATE_MODE'), update the function accordingly. Do NOT remove the function — it may just need updating. The comment 'TEAMMATE_MODE: tmux (default), in-process, auto' above the function should be kept as documentation.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-functions-teammate-mode","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Verify claude_teams() in functions.sh: --teammate-mode flag status","updated_at":"2026-02-28T23:05:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b924b3136f3986af1d710fa3991223fd498d3052e042cd5824887933ba5a1762","created_at":"2026-02-27T14:20:17Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"lint.sh PostToolUse hook has two known improvement areas: (1) shellcheck SC2259 fires on valid heredoc+pipe patterns (e.g. piping into 'python3 - \u003c\u003cEOF'); fix options: inline disable or --exclude SC2259 for intentional cases. (2) yamllint comment is commented out, stricter line-length config was considered but not applied; evaluate and enable or remove.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-hooks-lint","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Additional findings (2026-02-27): Investigated PostToolUse:Edit hook error seen during cc.nu edits. Checked lint.sh (exits 0 for .nu files, no case match), hookify posttooluse.py (exits 0 with {}), and all installed plugin hooks — none have PostToolUse defined except hookify. Root cause: likely Claude Code interpreting hookify's empty {} response as an error, or a transient display artifact. No actionable fix identified without capturing the exact error text. Not a real lint failure.","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Improve lint.sh hook: shellcheck SC2259 and yamllint config","updated_at":"2026-02-27T22:22:21Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"75084578cb718fd3bdb00615744124259467dbd0bd89691a709b35a31195fef4","created_at":"2026-03-01T04:27:38Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Find out what linter/formatter tooling exists for Nushell (nufmt, clippy equivalent, etc.). Check if there is an official formatter, community tools, or editor integrations. Verify against primary sources (nu docs, GitHub). Goal: decide whether to add a lint/format step to the cld.nu dev workflow. Files involved: cld_lib.nu, cld.nu, cld_test.nu. Done when: tooling verdict recorded in memory with source URL and date.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-nu-lint","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Research Nushell linter and formatter options","updated_at":"2026-03-01T04:27:38Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2b0bad00ce097bdaff01f30d4ea8b28e8455bf05101225b8e88188bb91f07ffd","created_at":"2026-02-28T01:37:08Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Sometimes a session is about to compact and there is no time for a full /reflect. A quick-handoff skill or command should emit a minimal context dump: current task, last action, immediate next step. Should be runnable in a few seconds, no file writes needed — just output to stdout/stderr for the user to copy or for the PreCompact hook to capture. Compare with existing /reflect skill (full memory update) and bd prime (issue context). Done: a skill or command exists that produces a terse handoff note suitable for the next session to pick up without reading the full transcript.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-reflect-quick-handoff","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add a quick-handoff variant of /reflect for imminent compaction","updated_at":"2026-02-28T01:37:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"xdg.sh.tmpl BEADS_DIR default already commented out; settings.json entries are explicit allows, not defaults","closed_at":"2026-02-27T18:18:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"490403c4885f25a1cd790af1d3086a3e445e573e2a179c8848bf2df9bec33619","created_at":"2026-02-27T13:58:28Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Two files still reference BEADS_DIR with a default value: home/dot_claude/xdg.sh.tmpl and home/dot_claude/settings.json.tmpl. BEADS_DIR should be unset (auto-discovery). Remove the hardcoded defaults from both files.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-remove-beads-dir-defaults","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Remove BEADS_DIR defaults from xdg.sh.tmpl and settings.json.tmpl","updated_at":"2026-02-27T18:18:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"beads:quickstart false is intentional: disables a deprecated marketplace skill. Not dead weight.","closed_at":"2026-02-27T18:15:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c06b6db7a0d34825e1323f64d8c9e8bd9c707c748ce56fb4b2686442779a1805","created_at":"2026-02-27T13:58:27Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"settings.json.tmpl skills map has 'beads:quickstart': false — this is cosmetic dead weight. The skill is deprecated and hidden, but the entry still clutters the config. Remove it.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-remove-beads-quickstart","is_template":0,"issue_type":"chore","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Remove dead beads:quickstart false entry from settings.json.tmpl","updated_at":"2026-02-27T18:15:20Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6691ddcff97fb3cd3b50af8276eda7bf1ca6aaa8edfef31bd08db29e2595f9f1","created_at":"2026-02-27T16:11:16Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Audit existing commands in the local plugin. One idea: an em dash cleaner command that finds and replaces em dashes in files (per style rules: use comma, colon, or semicolon instead). Check what other useful commands could be added.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-review-commands","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Review local plugin commands and add useful ones","updated_at":"2026-02-27T16:11:16Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"df3ab4ce5d884182246b118c4b8ff408b93d0f7fbe2bdd244446e317fdb34ccd","created_at":"2026-02-28T01:33:35Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"The local Claude Code plugin at home/dot_claude/plugins/local/ has commands and skills. Review what exists, identify gaps or stale items, and add useful new ones. The user's goal is periodic refresh, not a wholesale rewrite. Check: skills/sq/SKILL.md for freshness; commands/ dir for any stale or missing commands. Cross-reference against recently added marketplace plugins (e.g., beads:beads, hookify, plugin-dev family) to avoid duplication and find integration opportunities. Done: each item either updated/added/removed with rationale, or explicitly kept as-is.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-review-plugin-commands","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Review and refresh local plugin commands and skills","updated_at":"2026-02-28T01:33:35Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b205c4755b6def7a9c9571afdb0931fa06e691308df30841f2bf6902289f4191","created_at":"2026-02-27T14:19:24Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Find or configure a trash CLI that uses macOS native Trash AND supports CLI restore. Current state: /usr/bin/trash is one-way (no restore); gtrash has restore TUI but uses its own trash store not ~/.Trash; macos-trash uses native Trash but no restore. Goal: trash over rm with recoverable deletes from terminal.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-trash-cli-restore","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Research trash CLI with restore for macOS","updated_at":"2026-02-27T14:19:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a994c7ad0395e7a38051ef7810c8f65cbc2ccdfa0b801791e1e64c12c5eaf6d6","created_at":"2026-02-27T13:58:28Z","created_by":"Guillaume","crystallizes":0,"defer_until":null,"description":"Duplicate permission definitions across settings.json.tmpl (Claude Code) and opencode.jsonc.tmpl. Goal: single extensible template with tool name mapping and permission presets. Next steps defined in memory/unified-config.md: (1) draft full tool mapping for Claude Code, (2) draft OpenCode equivalents, (3) define preset categories (read/write/dangerous/interactive/task/skill), (4) create template handling both .jsonc and .json output, (5) test with actual configs before deploying.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"chezmoi-unified-config","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"4112243+LEI@users.noreply.github.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Design unified chezmoi template for Claude Code + OpenCode permissions","updated_at":"2026-02-27T13:58:28Z","waiters":"","wisp_type":"","work_type":""}

{{ $sandboxEnabled := false -}}
{{- /* $model := "sonnet[1m]" */ -}}
{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1",
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp",
    "OTEL_LOGS_EXPORTER": "otlp",
    "OTEL_EXPORTER_OTLP_PROTOCOL": "grpc",
    "OTEL_EXPORTER_OTLP_ENDPOINT": "http://localhost:4317",
    "OTEL_LOG_USER_PROMPTS": "1",
    "OTEL_LOG_TOOL_DETAILS": "1"
  },
  "permissions": {
    "allow": [
      "Bash(basename *)",
      "Bash(cat *)",
      "Bash(column *)",
      "Bash(cut *)",
      "Bash(date *)",
      "Bash(date)",
      "Bash(diff *)",
      "Bash(dirname *)",
      "Bash(du *)",
      "Bash(echo *)",
      "Bash(fd *)",
      "Bash(file *)",
      "Bash(find *)",
      "Bash(gh issue list *)",
      "Bash(gh issue status *)",
      "Bash(gh issue view *)",
      "Bash(gh pr checks *)",
      "Bash(gh pr diff *)",
      "Bash(gh pr list *)",
      "Bash(gh pr status *)",
      "Bash(gh pr view *)",
      "Bash(gh release list *)",
      "Bash(gh release view *)",
      "Bash(gh repo view *)",
      "Bash(gh run list *)",
      "Bash(gh run view *)",
      "Bash(gh search *)",
      "Bash(git diff *)",
      "Bash(git diff)",
      "Bash(git fetch *)",
      "Bash(git log *)",
      "Bash(git remote -v *)",
      "Bash(git remote -v)",
      "Bash(git show *)",
      "Bash(git stash list *)",
      "Bash(git stash list)",
      "Bash(git status *)",
      "Bash(git status)",
      "Bash(git worktree list *)",
      "Bash(glab ci list *)",
      "Bash(glab ci status *)",
      "Bash(glab ci view *)",
      "Bash(glab issue list *)",
      "Bash(glab issue view *)",
      "Bash(glab mr diff *)",
      "Bash(glab mr list *)",
      "Bash(glab mr view *)",
      "Bash(glab repo view *)",
      "Bash(grep *)",
      "Bash(head *)",
      "Bash(jq *)",
      "Bash(ls *)",
      "Bash(pwd)",
      "Bash(readlink *)",
      "Bash(realpath *)",
      "Bash(rg *)",
      "Bash(sed *)",
      "Bash(sleep *)",
      "Bash(sort *)",
      "Bash(sq *)",
      "Bash(stat *)",
      "Bash(tail *)",
      "Bash(test *)",
      "Bash(tr *)",
      "Bash(true)",
      "Bash(uname *)",
      "Bash(uniq *)",
      "Bash(wc *)",
      "Bash(which *)",
      "Bash(whoami)",
      "Bash(xxd)",
      "Bash(yq *)",
      "Glob",
      "Grep",
      "KillShell",
      "LS",
      "LSP",
      "NotebookRead",
      "Read",
      "Read(~/.local/share/memory/**.md)",
      "TaskCreate",
      "TaskGet",
      "TaskList",
      "TaskOutput",
      "TaskStop",
      "TaskUpdate",
      "ToolSearch",
      "WebFetch(domain:api.github.com)",
      "WebFetch(domain:docs.anthropic.com)",
      "WebFetch(domain:docs.gitlab.com)",
      "WebFetch(domain:gist.github.com)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:gitlab.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebSearch",
      "mcp__plugin_context7_context7__query-docs",
      "mcp__plugin_context7_context7__resolve-library-id"
    ],
    "deny": [
      "Bash(env)",
      "Bash(printenv)",
      "Edit(**/*.key)",
      "Edit(**/*.pem)",
      "Edit(**/*.pfx)",
      "Edit(./**/.env)",
      "Edit(./**/.env.*)",
      "Edit(./secrets/**)",
      "Edit(~/.ssh/**)",
      "Read(**/*.key)",
      "Read(**/*.pem)",
      "Read(**/*.pfx)",
      "Read(./**/.env)",
      "Read(./**/.env.*)",
      "Read(./secrets/**)",
      "Read(~/.ssh/**)",
      "TodoWrite",
      "Write(**/*.key)",
      "Write(**/*.pem)",
      "Write(**/*.pfx)",
      "Write(./**/.env)",
      "Write(./**/.env.*)",
      "Write(./secrets/**)",
      "Write(~/.ssh/**)"
    ],
    "ask": [
      "Bash(awk *)",
      "Bash(env *)",
      "Bash(fd * --exec *)",
      "Bash(fd * --exec-batch *)",
      "Bash(fd * -X *)",
      "Bash(fd * -x *)",
      "Bash(fd --exec*)",
      "Bash(fd -X*)",
      "Bash(fd -x*)",
      "Bash(find * -delete*)",
      "Bash(find * -exec *)",
      "Bash(find * -execdir *)",
      "Bash(find * -fprint*)",
      "Bash(find * -ok *)",
      "Bash(find * -okdir *)",
      "Bash(find -delete*)",
      "Bash(find -exec*)",
      "Bash(find -fprint*)",
      "Bash(find -ok*)",
      "Bash(printenv *)",
      "Bash(rm *)",
      "Bash(sed * -I*)",
      "Bash(sed * -i*)",
      "Bash(sed -I*)",
      "Bash(sed -i*)",
      "Bash(sort * --output *)",
      "Bash(sort * -o *)",
      "Bash(sort --output*)",
      "Bash(sort -o*)",
      "Bash(sq * --output*)",
      "Bash(sq * -o*)",
      "Bash(sq --output*)",
      "Bash(sq -o*)",
      "Bash(trash *)",
      "Bash(yq * --inplace *)",
      "Bash(yq * -i *)",
      "Bash(yq --inplace*)",
      "Bash(yq -i*)",
      "Edit",
      "ExitPlanMode",
      "MultiEdit",
      "NotebookEdit",
      "Skill",
      "Task",
      "Write"
    ],
    "defaultMode": "default",
    "disableBypassPermissionsMode": "disable"
  },
  "enableAllProjectMcpServers": false,
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "{{ .chezmoi.homeDir }}/.claude/hooks/lint.sh"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "{{ lookPath "node" }} ~/.config/claude/plugins/cache/claude-dashboard/claude-dashboard/1.10.0/dist/index.js"
  },
  "enabledPlugins": {
    {{- $plugins := env "CLAUDE_CODE_PLUGINS" | splitList "," }}
    {{- range $plugins }}
    {{ . | quote }}: true,
    {{- end }}
    "claude-code-setup@claude-plugins-official": true,
    "claude-dashboard@claude-dashboard": true,
    "claude-md-management@claude-plugins-official": true,
    "code-review@claude-plugins-official": true,
    "code-simplifier@claude-plugins-official": true,
    "commit-commands@claude-plugins-official": true,
    "context7@claude-plugins-official": true,
    "feature-dev@claude-plugins-official": true,
    "frontend-design@claude-plugins-official": true,
    "hookify@claude-plugins-official": true,
    "security-guidance@claude-plugins-official": true,
    "semgrep@claude-plugins-official": true,
    "skill-creator@claude-plugins-official": true
    {{- /* "agent-sdk-dev@claude-plugins-official": true, */ -}}
    {{- /* "github@claude-plugins-official": true, */ -}}
    {{- /* "gitlab@claude-plugins-official": true, */ -}}
    {{- /* "greptile@claude-plugins-official": true, */ -}}
    {{- /* "php-lsp@claude-plugins-official": true, */ -}}
    {{- /* "plugin-dev@claude-plugins-official": true, */ -}}
    {{- /* "pr-review-toolkit@claude-plugins-official": true, */ -}}
    {{- /* "supabase@claude-plugins-official": true */ -}}
    {{- /* "typescript-lsp@claude-plugins-official": true, */ -}}
    {{ "" }}
  },
  "skills": {
    "audit": true,
    "cleanup": true,
    "journal": true,
    "reflect": true,
    "standup": true,
    "agent-sdk-dev:new-sdk-app": true,
    "claude-automation-recommender": true,
    "claude-dashboard:check-usage": true,
    "claude-dashboard:setup": true,
    "claude-dashboard:update": true,
    "claude-md-improver": true,
    "claude-md-management:revise-claude-md": true,
    "code-review:code-review": true,
    "commit-commands:clean_gone": true,
    "commit-commands:commit": true,
    "commit-commands:commit-push-pr": true,
    "feature-dev:feature-dev": true,
    "frontend-design": true,
    "hookify:configure": true,
    "hookify:help": true,
    "hookify:hookify": true,
    "hookify:list": true,
    "hookify:writing-rules": true,
    "keybindings-help": true,
    "pr-review-toolkit:review-pr": true,
    "skill-creator": false
  },
  "sandbox": {
    "enabled": {{ $sandboxEnabled }},
    "autoAllowBashIfSandboxed": true,
    "allowUnsandboxedCommands": false,
    "network": {
      "allowedDomains": [
        "*.github.com",
        "*.githubusercontent.com",
        "*.gitlab.com",
        "*.npmjs.org",
        "registry.yarnpkg.com",
        "{{ env "GITLAB_HOST" | default "gitlab.com" }}"
      ]
    }
  },
  "alwaysThinkingEnabled": false,
  "autoUpdates": false,
  "model": "haiku"
}

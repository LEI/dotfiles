var data = {lines:[
{"lineNum":"    1","line":"#!/usr/bin/env bash"},
{"lineNum":"    2","line":"#MISE description=\"mise bench\""},
{"lineNum":"    3","line":""},
{"lineNum":"    4","line":"# https://github.com/shunk031/dotfiles/blob/master/scripts/run_benchmark.sh"},
{"lineNum":"    5","line":""},
{"lineNum":"    6","line":"set -euo pipefail","class":"lineCov","hits":"1","order":"117","possible_hits":"0",},
{"lineNum":"    7","line":""},
{"lineNum":"    8","line":"# CHEZMOI_ROOT=\"${CHEZMOI_ROOT:-$HOME/.local/share/chezmoi}\""},
{"lineNum":"    9","line":"# source \"$CHEZMOI_ROOT/home/.chezmoitemplates/helpers.sh\""},
{"lineNum":"   10","line":""},
{"lineNum":"   11","line":"# DRY_RUN=\"${DRY_RUN:-}\""},
{"lineNum":"   12","line":"BENCH_ITERATIONS=\"${BENCH_ITERATIONS:-10}\"","class":"lineCov","hits":"1","order":"118","possible_hits":"0",},
{"lineNum":"   13","line":"UNAME=\"${UNAME:-$(uname -s)}\"","class":"lineCov","hits":"1","order":"119","possible_hits":"0",},
{"lineNum":"   14","line":""},
{"lineNum":"   15","line":"command_time() {"},
{"lineNum":"   16","line":"  local file=\"$1.txt\"","class":"lineCov","hits":"2","order":"135","possible_hits":"0",},
{"lineNum":"   17","line":"  local time_args=(\"-a\" \"-o\" \"$file\")","class":"lineCov","hits":"4","order":"136","possible_hits":"0",},
{"lineNum":"   18","line":"  shift","class":"lineCov","hits":"2","order":"137","possible_hits":"0",},
{"lineNum":"   19","line":"  # TIMEFORMAT=\"%e\""},
{"lineNum":"   20","line":"  if [ \"$UNAME\" = Darwin ]; then","class":"lineCov","hits":"2","order":"138","possible_hits":"0",},
{"lineNum":"   21","line":"    TIMEFORMAT=\"%R\"","class":"lineCov","hits":"2","order":"139","possible_hits":"0",},
{"lineNum":"   22","line":"  else"},
{"lineNum":"   23","line":"    time_args+=(\"-f\" \"%e\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   24","line":"  fi"},
{"lineNum":"   25","line":"  command time \"${time_args[@]}\" -- \"$@\"","class":"lineCov","hits":"2","order":"140","possible_hits":"0",},
{"lineNum":"   26","line":"}"},
{"lineNum":"   27","line":""},
{"lineNum":"   28","line":"initial_time() {"},
{"lineNum":"   29","line":"  local output=\"$1\"","class":"lineCov","hits":"1","order":"131","possible_hits":"0",},
{"lineNum":"   30","line":"  shift","class":"lineCov","hits":"1","order":"132","possible_hits":"0",},
{"lineNum":"   31","line":""},
{"lineNum":"   32","line":"  echo >&2 \"initial bench: $*\"","class":"lineCov","hits":"1","order":"133","possible_hits":"0",},
{"lineNum":"   33","line":"  # echo >&2 \"${output##*/}: $*\""},
{"lineNum":"   34","line":"  command_time \"$output\" \"$@\"","class":"lineCov","hits":"1","order":"134","possible_hits":"0",},
{"lineNum":"   35","line":""},
{"lineNum":"   36","line":"  cat \"$output.txt\" | column -t | cut -d\' \' -f1","class":"lineCov","hits":"3","order":"141","possible_hits":"0",},
{"lineNum":"   37","line":"}"},
{"lineNum":"   38","line":""},
{"lineNum":"   39","line":"average_time() {"},
{"lineNum":"   40","line":"  local iterations=\"$1\"","class":"lineCov","hits":"1","order":"143","possible_hits":"0",},
{"lineNum":"   41","line":"  shift","class":"lineCov","hits":"1","order":"144","possible_hits":"0",},
{"lineNum":"   42","line":"  local output=\"$1\"","class":"lineCov","hits":"1","order":"145","possible_hits":"0",},
{"lineNum":"   43","line":"  shift","class":"lineCov","hits":"1","order":"146","possible_hits":"0",},
{"lineNum":"   44","line":""},
{"lineNum":"   45","line":"  for i in $(seq 1 \"$iterations\"); do","class":"lineCov","hits":"2","order":"147","possible_hits":"0",},
{"lineNum":"   46","line":"    echo >&2 \"bench $i/$iterations: $*\"","class":"lineCov","hits":"1","order":"148","possible_hits":"0",},
{"lineNum":"   47","line":"    command_time \"$output-$i\" \"$@\"","class":"lineCov","hits":"1","order":"149","possible_hits":"0",},
{"lineNum":"   48","line":"  done"},
{"lineNum":"   49","line":""},
{"lineNum":"   50","line":"  cat \"$output-\"*.txt | column -t | cut -d\' \' -f1 | awk \'{ total += $1 } END { print total/NR }\'","class":"lineCov","hits":"4","order":"150","possible_hits":"0",},
{"lineNum":"   51","line":"}"},
{"lineNum":"   52","line":""},
{"lineNum":"   53","line":"main() {"},
{"lineNum":"   54","line":"  if [ $# -gt 1 ]; then","class":"lineCov","hits":"1","order":"121","possible_hits":"0",},
{"lineNum":"   55","line":"    echo >&2 \"Usage: bench [shell]\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   56","line":"    exit 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   57","line":"  fi"},
{"lineNum":"   58","line":""},
{"lineNum":"   59","line":"  local shell=\"${1:-bash}\"","class":"lineCov","hits":"1","order":"122","possible_hits":"0",},
{"lineNum":"   60","line":"  # if [ \"$DRY_RUN\" = true ]; then"},
{"lineNum":"   61","line":"  #   shell=\"echo >&2 $shell\""},
{"lineNum":"   62","line":"  # fi"},
{"lineNum":"   63","line":"  if [ $# -gt 0 ]; then","class":"lineCov","hits":"1","order":"123","possible_hits":"0",},
{"lineNum":"   64","line":"    shift","class":"lineCov","hits":"1","order":"124","possible_hits":"0",},
{"lineNum":"   65","line":"  fi"},
{"lineNum":"   66","line":""},
{"lineNum":"   67","line":"  # local shell_arg=i"},
{"lineNum":"   68","line":"  # if [ \"$UNAME\" = Darwin ]; then"},
{"lineNum":"   69","line":"  #   shell_arg=l"},
{"lineNum":"   70","line":"  # fi"},
{"lineNum":"   71","line":"  local cmd=\"$shell -ci exit\"","class":"lineCov","hits":"1","order":"125","possible_hits":"0",},
{"lineNum":"   72","line":"  local name=\"${cmd%% *}\" # \"${cmd// /-}\"","class":"lineCov","hits":"1","order":"126","possible_hits":"0",},
{"lineNum":"   73","line":""},
{"lineNum":"   74","line":"  local tmp_dir","class":"lineCov","hits":"1","order":"127","possible_hits":"0",},
{"lineNum":"   75","line":"  tmp_dir=\"$(mktemp -d)\"","class":"lineCov","hits":"2","order":"128","possible_hits":"0",},
{"lineNum":"   76","line":"  local output=\"${tmp_dir}/bench-$name\"","class":"lineCov","hits":"1","order":"129","possible_hits":"0",},
{"lineNum":"   77","line":""},
{"lineNum":"   78","line":"  # Print source timings"},
{"lineNum":"   79","line":"  # export BENCH=true"},
{"lineNum":"   80","line":""},
{"lineNum":"   81","line":"  # shellcheck disable=SC2086"},
{"lineNum":"   82","line":"  initial_startup_time=\"$(initial_time \"$output\" $cmd)\"","class":"lineCov","hits":"2","order":"130","possible_hits":"0",},
{"lineNum":"   83","line":""},
{"lineNum":"   84","line":"  # shellcheck disable=SC2086"},
{"lineNum":"   85","line":"  average_startup_time=\"$(average_time \"$BENCH_ITERATIONS\" \"$output\" $cmd)\"","class":"lineCov","hits":"2","order":"142","possible_hits":"0",},
{"lineNum":"   86","line":""},
{"lineNum":"   87","line":"  cat <<EOF","class":"lineCov","hits":"1","order":"151","possible_hits":"0",},
{"lineNum":"   88","line":"["},
{"lineNum":"   89","line":"    {"},
{"lineNum":"   90","line":"        \"name\": \"$name average startup time\","},
{"lineNum":"   91","line":"        \"unit\": \"Second\","},
{"lineNum":"   92","line":"        \"value\": ${average_startup_time}"},
{"lineNum":"   93","line":"    },"},
{"lineNum":"   94","line":"    {"},
{"lineNum":"   95","line":"        \"name\": \"$name initial startup time\","},
{"lineNum":"   96","line":"        \"unit\": \"Second\","},
{"lineNum":"   97","line":"        \"value\": ${initial_startup_time}"},
{"lineNum":"   98","line":"    }"},
{"lineNum":"   99","line":"]"},
{"lineNum":"  100","line":"EOF"},
{"lineNum":"  101","line":"}"},
{"lineNum":"  102","line":""},
{"lineNum":"  103","line":"main \"$@\"","class":"lineCov","hits":"1","order":"120","possible_hits":"0",},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "test", "date" : "2025-11-11 20:19:29", "instrumented" : 38, "covered" : 35,};
var merged_data = [];
